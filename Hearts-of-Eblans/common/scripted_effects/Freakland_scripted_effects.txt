# CREATED BY CLR62 - 2025
# Licensed under CC BY-NC-SA 4.0 for END USERS only
# Full license: https://creativecommons.org/licenses/by-nc-sa/4.0/
# 
# Paradox Interactive retains all rights to Hearts of Iron IV
# Available on GitHub and Steam Workshop
 
country_leaves_freakland = {
	remove_from_array = {
        global.freakland_members = THIS.id
    }

    clear_all_freakland_ideas = yes

    news_event = { id = freakland.7  days = 5 }
}

country_kicked_from_freakland = {
	remove_from_array = {
        global.freakland_members = THIS.id
    }

    clear_all_freakland_ideas = yes

    news_event = { id = freakland.16  days = 5 }
}

clear_all_freakland_ideas = {
    if = {
        limit = { has_idea = freakland_start }
        remove_ideas = freakland_start
    }
    if = {
        limit = { has_idea = freakland_rise }
        remove_ideas = freakland_rise
    }
    if = {
        limit = { has_idea = freakland_rise_2 }
        remove_ideas = freakland_rise_2
    }
    if = {
        limit = { has_idea = freakland_triumph }
        remove_ideas = freakland_triumph
    }
    if = {
        limit = { has_idea = freakland_slowlyDrop }
        remove_ideas = freakland_slowlyDrop
    }
    if = {
        limit = { has_idea = freakland_emptiness }
        remove_ideas = freakland_emptiness
    }
    if = {
        limit = { has_idea = freakland_rebirth }
        remove_ideas = freakland_rebirth
    }
    if = {
        limit = { has_idea = freakland_wrongDecisions }
        remove_ideas = freakland_wrongDecisions
    }
    if = {
        limit = { has_idea = freakland_decay }
        remove_ideas = freakland_decay
    }
    if = {
        limit = { has_idea = freakland_decay2 }
        remove_ideas = freakland_decay2
    }
}

update_freakland_idea = {
    clear_all_freakland_ideas = yes

    if = {
        limit = {
            check_variable = { global.freakland_level = 1 }
        }
        add_ideas = freakland_start
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 2 }
        }
        add_ideas = freakland_rise
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 3 }
        }
        add_ideas = freakland_rise_2
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 4 }
        }
        add_ideas = freakland_triumph
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 5 }
        }
        add_ideas = freakland_slowlyDrop
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 6 }
        }
        add_ideas = freakland_emptiness
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 7 }
        }
        add_ideas = freakland_rebirth
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 8 }
        }
        add_ideas = freakland_wrongDecisions
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 9 }
        }
        add_ideas = freakland_decay
    }
    else_if = {
        limit = {
            check_variable = { global.freakland_level = 10 }
        }
        add_ideas = freakland_decay2
    }
}


set_freakland_level = {
    set_variable = { global.freakland_level = THIS.new_freakland_level }

    every_country ={
        limit = {
            is_in_array = {
    		    array = global.freakland_members
    		    value = THIS.id
		    }
        }
        update_freakland_idea = yes
    }

    set_variable = { THIS.new_freakland_level = 0 }
}

